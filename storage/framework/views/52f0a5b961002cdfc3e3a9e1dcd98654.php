<?php $__env->startSection('title', __('Transaction')); ?><?php $__env->startSection('user-content'); ?>    <div class="card border-0 mb-4">        <div class="card-body px-2">            <div class="d-flex flex-wrap justify-content-end mb-3">                <form action="<?php echo e(route('user.transaction')); ?>" class="d-flex flex-wrap align-items-center">                                        <div class="me-2 mb-2 mb-md-0">                        <select class="form-select" name="status" aria-label="Filter by Status">                            <option value="all" selected><?php echo e(__('All')); ?></option>                            <?php $__currentLoopData = \App\Constants\TxnStatus::STATUS; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $key => $value): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>                                <option value="<?php echo e($value); ?>" <?php if(request('status') == $value): echo 'selected'; endif; ?>><?php echo e(ucwords($value)); ?></option>                            <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?>                        </select>                    </div>                                        <div class="me-2 mb-2 mb-md-0">                        <input type="text" name="search" value="<?php echo e(request('search')); ?>" class="form-control"                               placeholder="<?php echo e(__('Search...')); ?>" aria-label="<?php echo e(__('Search ...')); ?>">                    </div>                                        <button type="submit" class="btn btn-primary mb-2 mb-md-0">                        <?php if (isset($component)) { $__componentOriginal4bfb1fa99a7d89eae1cf7ba1287cdfc5 = $component; } ?>
<?php if (isset($attributes)) { $__attributesOriginal4bfb1fa99a7d89eae1cf7ba1287cdfc5 = $attributes; } ?>
<?php $component = App\View\Components\Svg::resolve(['i' => 'search'] + (isset($attributes) && $attributes instanceof Illuminate\View\ComponentAttributeBag ? (array) $attributes->getIterator() : [])); ?>
<?php $component->withName('svg'); ?>
<?php if ($component->shouldRender()): ?>
<?php $__env->startComponent($component->resolveView(), $component->data()); ?>
<?php if (isset($attributes) && $attributes instanceof Illuminate\View\ComponentAttributeBag && $constructor = (new ReflectionClass(App\View\Components\Svg::class))->getConstructor()): ?>
<?php $attributes = $attributes->except(collect($constructor->getParameters())->map->getName()->all()); ?>
<?php endif; ?>
<?php $component->withAttributes([]); ?>
<?php echo $__env->renderComponent(); ?>
<?php endif; ?>
<?php if (isset($__attributesOriginal4bfb1fa99a7d89eae1cf7ba1287cdfc5)): ?>
<?php $attributes = $__attributesOriginal4bfb1fa99a7d89eae1cf7ba1287cdfc5; ?>
<?php unset($__attributesOriginal4bfb1fa99a7d89eae1cf7ba1287cdfc5); ?>
<?php endif; ?>
<?php if (isset($__componentOriginal4bfb1fa99a7d89eae1cf7ba1287cdfc5)): ?>
<?php $component = $__componentOriginal4bfb1fa99a7d89eae1cf7ba1287cdfc5; ?>
<?php unset($__componentOriginal4bfb1fa99a7d89eae1cf7ba1287cdfc5); ?>
<?php endif; ?>                        <span class="ms-1"><?php echo e(__('Search')); ?></span>                    </button>                </form>            </div>            <div class="table-responsive  rounded mb-3">                <table class="table card-table  table-vcenter text-nowrap mb-0">                    <thead class="table-light">                    <tr>                        <th><?php echo e(__('Description') .' | ' . __('TXN ID')); ?></th>                        <th><?php echo e(__('Method') .' | ' . __('Method Type')); ?></th>                        <th><?php echo e(__('Amount') .' | ' . __('Type')); ?></th>                        <th><?php echo e(__('Fee')); ?></th>                        <th><?php echo e(__('Status')); ?></th>                        <th><?php echo e(__('Time')); ?></th>                    </tr>                    </thead>                    <tbody>                    <?php $__currentLoopData = $transactions; $__env->addLoop($__currentLoopData); foreach($__currentLoopData as $transaction): $__env->incrementLoopIndices(); $loop = $__env->getLastLoop(); ?>                        <?php                            // Define the status color map                            $statusColors = [                                \App\Constants\TxnStatus::PENDING => 'blue',                                \App\Constants\TxnStatus::COMPLETED => 'green',                                \App\Constants\TxnStatus::FAILED => 'red'                            ];                            // Get the color from the status, fallback to 'blue'                            $color = $statusColors[$transaction->status] ?? 'blue';                            // Define the prefix based on transaction type and status                            $prefix = null;                            if ($transaction->status == \App\Constants\TxnStatus::COMPLETED) {                                $prefix = match ($transaction->type) {                                    \App\Constants\TxnType::DEPOSIT,\App\Constants\TxnType::ADD_BALANCE => '+',                                    \App\Constants\TxnType::SUBTRACT_BALANCE => '-',                                    default => null,                                };                            }                            // Cache repeated attribute calls                            $txid = ucwords($transaction->txid);                            $methodType = ucwords($transaction->method_type);                            $transactionType = title($transaction->type);                            $transactionAmount = $prefix . $transaction->amount . ' ' . $transaction->currency;                            $fee = $transaction->fee . ' ' . $transaction->currency;                            $statusText = strtoupper($transaction->status);                            $createdAtTime = $transaction->created_at_time;                            $createdAtDiff = $transaction->created_at->diffForHumans();                        ?>                        <tr class="align-middle">                            <td data-bs-toggle="tooltip" data-bs-placement="top" title="<?php echo e($transaction->action_cause); ?>">                                <div><?php echo e($transaction->description); ?></div>                                <div class="text-secondary"><?php echo e($txid); ?></div>                            </td>                            <td>                                <?php echo e($transaction->method); ?>                                <div class="text-secondary"><?php echo e($methodType); ?></div>                            </td>                            <td>                                <div class="text-<?php echo e($prefix == '-' ? 'red' : $color); ?>">                                    <?php echo e($transactionAmount); ?>                                </div>                                <div class="text-secondary"><?php echo e($transactionType); ?></div>                            </td>                            <td>                                <?php echo e($fee); ?>                            </td>                            <td>                                <span class="badge bg-<?php echo e($color); ?> text-<?php echo e($color); ?>-fg"><?php echo e($statusText); ?></span>                            </td>                            <td>                                <div><?php echo e($createdAtTime); ?></div>                                <div class="text-secondary"><?php echo e($createdAtDiff); ?></div>                            </td>                        </tr>                    <?php endforeach; $__env->popLoop(); $loop = $__env->getLastLoop(); ?>                    </tbody>                </table>            </div>                        <div class="mt-3 d-flex justify-content-end">                <?php echo e($transactions->links()); ?>            </div>            <?php if(!$transactions->count()): ?>                <h4 class="text-center text-muted"><?php echo e(__('No data found')); ?></h4>            <?php endif; ?>        </div>    </div><?php $__env->stopSection(); ?>
<?php echo $__env->make('frontend.layouts.user.app', \Illuminate\Support\Arr::except(get_defined_vars(), ['__data', '__path']))->render(); ?><?php /**PATH /Users/apple/Documents/gratech/resources/views/frontend/user/transaction/index.blade.php ENDPATH**/ ?>